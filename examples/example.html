<!DOCTYPE html>
<html>
  <head>
    <title>Bitcore browser examples</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <pre>
      <div id='content'></div>
    </pre>
    <script src="../browser/bundle.js"></script>

    <script type="text/javascript">
      var Address = require('bitcore').Address;

      print = function(s){
        var div = document.getElementById('content');
        div.innerHTML += s + '<br />';
      };

      var addrStrings = [
        "1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa",
        "1A1zP1eP5QGefi2DMPTfTL5SLmv7Dixxxx",
        "A1zP1eP5QGefi2DMPTfTL5SLmv7Dixxxx",
        "1600 Pennsylvania Ave NW",
      ].map(function(addr) {
        return new Address(addr);
      });

      addrStrings.forEach(function(addr) {

        try {
          addr.validate();
          print(addr.data + ": is a valid address");
        } catch(e) {
          print(addr.data + ": is not a valid address.");
        }
    
      });
      print('<hr>');

/*
      Using bitcore root module
*/
      var bitcore = require('bitcore');
      var k = bitcore.KeyModule.Key.generateSync();

      print ('Generate Key Pair:');
      print ('Private:' + bitcore.buffertools.toHex(k.private));
      print ('Public:'  + bitcore.buffertools.toHex(k.public));

      print('<hr>');

      var p  = new bitcore.PeerManager();

      print('<hr>');

      var WalletKey = bitcore.WalletKey;
      var networks  = bitcore.networks;

      var priv = 'cU5NxfpfecLCUWnJyoUF6dCZqCfLSAZnTBPraCPis2if8iHHbNk1';
      var s = new WalletKey({
        network: networks.testnet
      });
      s.fromObj({ priv: priv});
      var o = s.storeObj();
      print("Private: " + o.priv);
      print("Public: " + o.pub);
      print("Addr: " + o.addr);
    </script>
  </body>
</html>
